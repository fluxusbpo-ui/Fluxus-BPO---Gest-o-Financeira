<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Empresas — G&P Finance</title>
    <link rel="stylesheet" href="/src/style.css">
    <style>
      .container { max-width:1200px; margin:0 auto; padding:0 16px }
      .page-header { display:flex; justify-content:space-between; align-items:center; margin:24px 0; }
      .page-title { font-size:28px; color:var(--blue-700); font-weight:800; margin:0 }
      .btn { padding:10px 20px; border-radius:8px; border:none; cursor:pointer; font-weight:600; text-decoration:none; display:inline-flex; align-items:center; gap:8px }
      .btn-primary { background:#153263; color:#fff }
      .btn-primary:hover { background:#0f2347 }
      .companies-grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(320px, 1fr)); gap:20px; margin-top:24px }
      .company-card { background:#fff; border-radius:12px; padding:20px; box-shadow:0 4px 12px rgba(13,32,63,0.08); transition:transform 0.2s, box-shadow 0.2s }
      .company-card:hover { transform:translateY(-2px); box-shadow:0 8px 24px rgba(13,32,63,0.12) }
      .company-name { font-size:18px; font-weight:700; color:var(--blue-700); margin:0 0 8px }
      .company-cnpj { color:var(--muted); font-size:14px; margin:0 0 12px }
      .company-actions { display:flex; gap:8px; margin-top:16px; padding-top:16px; border-top:1px solid #e6eef6 }
      .btn-small { padding:6px 12px; font-size:14px; border-radius:6px; border:1px solid #e6eef6; background:#fff; cursor:pointer }
      .btn-small:hover { background:#f4f8ff }
    </style>
  </head>
  <body>
    <header class="site-header" style="background:var(--blue-900);color:#e6f1ff;padding:12px 0">
      <div class="container" style="display:flex;justify-content:space-between;align-items:center">
        <a class="logo" href="/demo.html" aria-label="G&P Finance" style="color:#fff;text-decoration:none;font-size:20px;font-weight:700">G&P Finance</a>
        <nav style="display:flex;gap:24px">
          <a href="/system.html" style="color:#e6f1ff;text-decoration:none">Sistema</a>
          <a href="/companies.html" style="color:#fff;text-decoration:none;font-weight:700">Empresas</a>
        </nav>
      </div>
    </header>

    <main class="container">
      <div class="page-header">
        <h1 class="page-title">Empresas</h1>
        <a href="/companies-new.html" class="btn btn-primary">+ Nova Empresa</a>
      </div>

      <div id="companies-list" class="companies-grid">
        <!-- As empresas serão carregadas aqui via JavaScript -->
      </div>
    </main>

    <script type="module">
      // Mock de empresas para demonstração
      const empresas = [
        { id: 1, nomeFantasia: 'Empresa Demo 1', cnpj: '12.345.678/0001-90', email: 'contato@empresa1.com' },
        { id: 2, nomeFantasia: 'Empresa Demo 2', cnpj: '98.765.432/0001-10', email: 'contato@empresa2.com' },
        { id: 3, nomeFantasia: 'Empresa Demo 3', cnpj: '11.222.333/0001-44', email: 'contato@empresa3.com' }
      ];

      function renderEmpresas() {
        const container = document.getElementById('companies-list');
        if (!empresas.length) {
          container.innerHTML = '<p style="color:var(--muted);text-align:center;padding:40px">Nenhuma empresa cadastrada. <a href="/companies-new.html">Cadastre a primeira empresa</a></p>';
          return;
        }

        container.innerHTML = empresas.map(emp => `
          <div class="company-card">
            <h2 class="company-name">${emp.nomeFantasia}</h2>
            <p class="company-cnpj">CNPJ: ${emp.cnpj}</p>
            <p style="color:var(--muted);font-size:14px;margin:0">${emp.email}</p>
            <div class="company-actions">
              <button class="btn-small" onclick="window.location.href='/companies-new.html?id=${emp.id}'">Editar</button>
              <button class="btn-small" style="color:#c23" onclick="if(confirm('Remover empresa?')) alert('Empresa removida (mock)')">Remover</button>
            </div>
          </div>
        `).join('');
      }

      renderEmpresas();
    </script>
  </body>
</html>
